---
title: From Manual Proto Hunting to Buf Sanity — And a Pikachu Too
author: eunsang
pubDatetime: 2025-07-29T01:00:00Z
modDatetime: 2025-07-29T01:00:00Z
slug: from-manual-proto-hunting-to-buf-sanity
featured: false
draft: false
tags: [grpc, protobuf, python, buf, uv, envoy, xds]
description: ""
---
> This post was heavily helped by [“Protobuf dependency management with Buf”](https://www.youtube.com/watch?v=OSdQlnoO0og), so big thanks to Mike for hosting the tutorial. 

### Why `buf` and `uv` in 2025 Python Dev?

In the scorching hot midsummer of 2025, there was me — trying to write an xDS server in Python to dynamically configure network policy for a web app with an Envoy sidecar, all running in Docker. I didn’t know much about Protocol Buffers (honestly, I still barely do), all I had was ChatGPT telling me: *“You should collect the proto schemas that Envoy uses for its services.”* So I grabbed things like:

* envoy/service/discovery/v3/ads.proto
* envoy/config/listener/v3/listener.proto
* envoy/config/route/v3/route.proto
* ... 

I had no idea how hard it would be to generate Python code from these. Turns out, each of these proto files turned out to have their own imports — like `buf/validate/validate.proto`, which depended on yet another, like `google/protobuf/descriptor.proto`. The web of dependencies kept growing, and it quickly became clear how tangled things could get.

So I did the only thing I could think of: I followed the imports manually, repo by repo. I downloaded the necessary folders from GitHub — pulling from Google's protos, UDPA, xDS, protoc-gen-validate, and Envoy itself. Eventually, I got everything to compile. And when the Python files finally generated successfully, I was honestly kind of amazed.

But then I thought: No way. It can’t be like this forever.

I searched for a better way to manage proto dependencies and stumbled upon a YouTube tutorial titled [“Protobuf dependency management with Buf”](https://www.youtube.com/watch?v=OSdQlnoO0og). That’s when I discovered `buf`.

What follows is my humble implementation — and a few lessons learned — as I moved beyond just compiling protos into actually writing a working gRPC server and client in Python. 
